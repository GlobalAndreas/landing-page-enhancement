# üìä –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç GA4 ‚Üí Telegram

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

–°–æ–∑–¥–∞–Ω–∞ backend-—Ñ—É–Ω–∫—Ü–∏—è **ga4-weekly-report**, –∫–æ—Ç–æ—Ä–∞—è:
1. ‚úÖ –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ GA4 —á–µ—Ä–µ–∑ Data API
2. ‚úÖ –°–æ–±–∏—Ä–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è: `page_view`, `engaged_scroll`, `view_item`, `begin_checkout`, `generate_lead`
3. ‚úÖ –ò–∑–≤–ª–µ–∫–∞–µ—Ç UTM-–º–µ—Ç–∫–∏: `utmSource`, `utmMedium`, `utmCampaign`
4. ‚úÖ –í—ã—á–∏—Å–ª—è–µ—Ç –º–µ—Ç—Ä–∏–∫–∏:
   - Weekly CR (–æ–±—â–∏–π, —Ñ–æ—Ä–º—ã, Telegram-–±–æ—Ç–∞)
   - Drop-off –ø–æ –∫–∞–∂–¥–æ–º—É —à–∞–≥—É –≤–æ—Ä–æ–Ω–∫–∏
   - –¢–û–ü-3 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —Ç—Ä–∞—Ñ–∏–∫–∞
   - –õ—É—á—à–∏–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∫–æ–Ω–≤–µ—Ä—Å–∏–π
5. ‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫—Ä–∞—Å–∏–≤—ã–π –æ—Ç—á—ë—Ç –≤ Telegram

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ (3 —à–∞–≥–∞)

### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ GA4 API

#### 1.1. –°–æ–∑–¥–∞–π—Ç–µ Service Account –≤ Google Cloud
1. –ó–∞–π–¥–∏—Ç–µ: https://console.cloud.google.com/
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π
3. **IAM & Admin** ‚Üí **Service Accounts** ‚Üí **Create Service Account**
4. –ù–∞–∑–≤–∞–Ω–∏–µ: `ga4-reports`
5. **Create and Continue**
6. –†–æ–ª—å: **Viewer** (–∏–ª–∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–µ —ç—Ç–æ—Ç —à–∞–≥)
7. **Done**

#### 1.2. –°–æ–∑–¥–∞–π—Ç–µ JSON-–∫–ª—é—á
1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã–π Service Account
2. **Keys** ‚Üí **Add Key** ‚Üí **Create New Key**
3. –¢–∏–ø: **JSON**
4. **Create** ‚Üí —Å–∫–∞—á–∞–µ—Ç—Å—è —Ñ–∞–π–ª `ga4-reports-xxxxx.json`
5. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª, —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ **–≤–µ—Å—å JSON**

#### 1.3. –î–æ–±–∞–≤—å—Ç–µ Service Account –≤ GA4
1. –ó–∞–π–¥–∏—Ç–µ: https://analytics.google.com/
2. **Admin** (—à–µ—Å—Ç–µ—Ä—ë–Ω–∫–∞) ‚Üí **Property Access Management**
3. **+** ‚Üí **Add users**
4. Email: **—Å–∫–æ–ø–∏—Ä—É–π—Ç–µ `client_email` –∏–∑ JSON-–∫–ª—é—á–∞** (—Ñ–æ—Ä–º–∞—Ç: `ga4-reports@your-project.iam.gserviceaccount.com`)
5. –†–æ–ª—å: **Viewer**
6. **Add**

#### 1.4. –ü–æ–ª—É—á–∏—Ç–µ GA4 Property ID
1. **Admin** ‚Üí **Property Settings**
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Property ID** (—Ü–∏—Ñ—Ä—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä: `123456789`)

---

### –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ Telegram-–±–æ—Ç–∞

#### 2.1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ BotFather
1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram ‚Üí –Ω–∞–π–¥–∏—Ç–µ **@BotFather**
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É: `/newbot`
3. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `Weekly GA4 Reports`)
4. –í–≤–µ–¥–∏—Ç–µ username (–Ω–∞–ø—Ä–∏–º–µ—Ä: `my_ga4_reports_bot`)
5. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω** (—Ñ–æ—Ä–º–∞—Ç: `1234567890:ABCdefGHIjklMNOpqrsTUVwxyz`)

#### 2.2. –ü–æ–ª—É—á–∏—Ç–µ Chat ID
1. –ù–∞–π–¥–∏—Ç–µ –≤ Telegram –±–æ—Ç–∞ **@userinfobot**
2. –ù–∞–ø–∏—à–∏—Ç–µ `/start`
3. –ë–æ—Ç –ø–æ–∫–∞–∂–µ—Ç –≤–∞—à **Chat ID** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `123456789`)
4. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ** —ç—Ç–æ—Ç ID

#### 2.3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
1. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –ø–æ username (–Ω–∞–ø—Ä–∏–º–µ—Ä: `@my_ga4_reports_bot`)
2. –ù–∞–∂–º–∏—Ç–µ **Start**
3. –¢–µ–ø–µ—Ä—å –±–æ—Ç –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤–∞–º —Å–æ–æ–±—â–µ–Ω–∏—è

---

### –®–∞–≥ 3: –î–æ–±–∞–≤—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ –ø—Ä–æ–µ–∫—Ç

–í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ poehali.dev –¥–æ–±–∞–≤—å—Ç–µ 4 —Å–µ–∫—Ä–µ—Ç–∞:

#### 1. `GA4_PROPERTY_ID`
```
123456789
```
*(–≤–∞—à Property ID –∏–∑ –®–∞–≥–∞ 1.4)*

#### 2. `GA4_CREDENTIALS_JSON`
```json
{
  "type": "service_account",
  "project_id": "your-project-123456",
  "private_key_id": "abc123...",
  "private_key": "-----BEGIN PRIVATE KEY-----\nMIIE...",
  "client_email": "ga4-reports@your-project.iam.gserviceaccount.com",
  "client_id": "123456789...",
  "auth_uri": "https://accounts.google.com/o/oauth2/auth",
  "token_uri": "https://oauth2.googleapis.com/token",
  "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",
  "client_x509_cert_url": "https://www.googleapis.com/robot/v1/metadata/x509/..."
}
```
*(–≤–µ—Å—å JSON –∏–∑ –®–∞–≥–∞ 1.2)*

#### 3. `TELEGRAM_BOT_TOKEN`
```
1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
```
*(—Ç–æ–∫–µ–Ω –∏–∑ –®–∞–≥–∞ 2.1)*

#### 4. `TELEGRAM_CHAT_ID`
```
123456789
```
*(–≤–∞—à Chat ID –∏–∑ –®–∞–≥–∞ 2.2)*

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –í–∞—Ä–∏–∞–Ω—Ç 1: –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

–û—Ç–∫—Ä–æ–π—Ç–µ URL —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏–ª–∏ —á–µ—Ä–µ–∑ curl:
```bash
curl https://functions.poehali.dev/ef3050db-a8c0-48b2-a4b8-5a2eee875f23
```

–í—ã –ø–æ–ª—É—á–∏—Ç–µ –æ—Ç—á—ë—Ç –≤ Telegram –≤ —Ç–µ—á–µ–Ω–∏–µ 10-30 —Å–µ–∫—É–Ω–¥.

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ (cron)

#### –ß–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–π cron-—Å–µ—Ä–≤–∏—Å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ cron-job.org** (–±–µ—Å–ø–ª–∞—Ç–Ω–æ):

1. –ó–∞–π–¥–∏—Ç–µ: https://cron-job.org/
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å
3. **Cronjobs** ‚Üí **Create cronjob**
4. **Title**: `GA4 Weekly Report`
5. **URL**: `https://functions.poehali.dev/ef3050db-a8c0-48b2-a4b8-5a2eee875f23`
6. **Schedule**: 
   - –ö–∞–∂–¥—ã–π **–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫** –≤ **09:00**
   - –ò–ª–∏: `0 9 * * MON` (cron-—Ñ–æ—Ä–º–∞—Ç)
7. **Save**

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã**:
- **EasyCron** (https://www.easycron.com/) ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω
- **Google Cloud Scheduler** ‚Äî –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ GCP
- **AWS EventBridge** ‚Äî –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ AWS
- **GitHub Actions** (—Å–º. –Ω–∏–∂–µ)

---

#### –ß–µ—Ä–µ–∑ GitHub Actions:

–ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –ø–æ–¥–∫–ª—é—á—ë–Ω –∫ GitHub, —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.github/workflows/weekly-report.yml`:

```yaml
name: GA4 Weekly Report

on:
  schedule:
    # –ö–∞–∂–¥—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –≤ 09:00 UTC
    - cron: '0 9 * * 1'
  workflow_dispatch: # –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫

jobs:
  send-report:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger GA4 Report
        run: |
          curl -X GET https://functions.poehali.dev/ef3050db-a8c0-48b2-a4b8-5a2eee875f23
```

–ö–æ–º–º–∏—Ç—å—Ç–µ –≤ GitHub ‚Üí –æ—Ç—á—ë—Ç—ã –±—É–¥—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∂–¥—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫.

---

## üìä –ü—Ä–∏–º–µ—Ä –æ—Ç—á—ë—Ç–∞ –≤ Telegram

```
üìä –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç GA4
üìÖ 23.11.2024 - 30.11.2024

üìà –í–æ—Ä–æ–Ω–∫–∞:
1Ô∏è‚É£ page_view: 5,230
2Ô∏è‚É£ engaged_scroll: 3,456 (66.1% –æ—Ç –≤—Ö–æ–¥–∞)
3Ô∏è‚É£ view_item (—Ñ–æ—Ä–º–∞): 1,892 (36.2% –æ—Ç –≤—Ö–æ–¥–∞)
4Ô∏è‚É£ –ö–æ–Ω–≤–µ—Ä—Å–∏–∏:
   ‚Ä¢ generate_lead: 234
   ‚Ä¢ begin_checkout: 156
   üìç –í—Å–µ–≥–æ: 390

üéØ –ö–æ–Ω–≤–µ—Ä—Å–∏–∏ (CR):
‚Ä¢ –û–±—â–∏–π CR: 7.46%
‚Ä¢ CR —Ñ–æ—Ä–º—ã: 12.37%
‚Ä¢ CR Telegram-–±–æ—Ç–∞: 2.98%

‚ö†Ô∏è Drop-off (–ø–æ—Ç–µ—Ä–∏):
‚Ä¢ –®–∞–≥ 1‚Üí2: 33.9% (–Ω–µ –ø—Ä–æ–∫—Ä—É—Ç–∏–ª–∏)
‚Ä¢ –®–∞–≥ 2‚Üí3: 45.3% (–Ω–µ –¥–æ—à–ª–∏ –¥–æ —Ñ–æ—Ä–º—ã)
‚Ä¢ –®–∞–≥ 3‚Üí4: 79.4% (–Ω–µ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–ª–∏)

üèÜ –õ—É—á—à–∏–π –∏—Å—Ç–æ—á–Ω–∏–∫:
google / cpc: 187 –∫–æ–Ω–≤–µ—Ä—Å–∏–π

üìå –¢–∏–ø—ã –ª–∏–¥–æ–≤:
‚Ä¢ –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è: 234 (60.0%)
‚Ä¢ Telegram-–±–æ—Ç: 156 (40.0%)

üîù –¢–û–ü-3 –∏—Å—Ç–æ—á–Ω–∏–∫–∞ —Ç—Ä–∞—Ñ–∏–∫–∞:
1. google / cpc: 187
2. yandex / cpc: 98
3. vk / cpc: 45

‚úÖ –û—Ç—á—ë—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

---

## üîç –ú–µ—Ç—Ä–∏–∫–∏ –≤ –æ—Ç—á—ë—Ç–µ

| –ú–µ—Ç—Ä–∏–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –§–æ—Ä–º—É–ª–∞ |
|---------|----------|---------|
| **Weekly CR** | –û–±—â–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ | (generate_lead + begin_checkout) / page_view √ó 100% |
| **CR —Ñ–æ—Ä–º—ã** | –ö–æ–Ω–≤–µ—Ä—Å–∏—è –ø–æ—Å–ª–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ñ–æ—Ä–º—ã | generate_lead / view_item √ó 100% |
| **CR Telegram** | –ö–æ–Ω–≤–µ—Ä—Å–∏—è —á–µ—Ä–µ–∑ Telegram-–±–æ—Ç–∞ | begin_checkout / page_view √ó 100% |
| **Drop-off 1‚Üí2** | –ü–æ—Ç–µ—Ä–∏ –Ω–∞ —ç—Ç–∞–ø–µ —Å–∫—Ä–æ–ª–ª–∞ | (page_view - engaged_scroll) / page_view √ó 100% |
| **Drop-off 2‚Üí3** | –ü–æ—Ç–µ—Ä–∏ –¥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ñ–æ—Ä–º—ã | (engaged_scroll - view_item) / engaged_scroll √ó 100% |
| **Drop-off 3‚Üí4** | –ü–æ—Ç–µ—Ä–∏ –Ω–∞ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ | (view_item - conversions) / view_item √ó 100% |
| **–õ—É—á—à–∏–π –∏—Å—Ç–æ—á–Ω–∏–∫** | –ò—Å—Ç–æ—á–Ω–∏–∫ —Å –º–∞–∫—Å–∏–º—É–º –∫–æ–Ω–≤–µ—Ä—Å–∏–π | MAX(conversions –ø–æ utmSource/utmMedium) |
| **–¢–∏–ø—ã –ª–∏–¥–æ–≤** | –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ lead_type | generate_lead (consultation) vs begin_checkout (bot) |

---

## ‚öôÔ∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ò–∑–º–µ–Ω–∏—Ç—å –¥–µ–Ω—å –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç—á—ë—Ç–∞

–í cron-job.org –∏–∑–º–µ–Ω–∏—Ç–µ **Schedule**:
- –í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ: `0 9 * * SUN`
- –ü—è—Ç–Ω–∏—Ü–∞: `0 9 * * FRI`
- –ö–∞–∂–¥—ã–π –¥–µ–Ω—å: `0 9 * * *`
- –ü–µ—Ä–≤–æ–µ —á–∏—Å–ª–æ –º–µ—Å—è—Ü–∞: `0 9 1 * *`

### –ò–∑–º–µ–Ω–∏—Ç—å –ø–µ—Ä–∏–æ–¥ –æ—Ç—á—ë—Ç–∞

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `backend/ga4-weekly-report/index.py`:
```python
# –ë—ã–ª–æ (7 –¥–Ω–µ–π):
start_date = end_date - timedelta(days=7)

# –ú–µ—Å—è—á–Ω—ã–π –æ—Ç—á—ë—Ç (30 –¥–Ω–µ–π):
start_date = end_date - timedelta(days=30)

# –ö–≤–∞—Ä—Ç–∞–ª—å–Ω—ã–π (90 –¥–Ω–µ–π):
start_date = end_date - timedelta(days=90)
```

### –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Ç–æ–≤

–í —Å–µ–∫—Ä–µ—Ç–µ `TELEGRAM_CHAT_ID` —É–∫–∞–∂–∏—Ç–µ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é:
```
123456789,987654321
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é:
```python
chat_ids = telegram_chat_id.split(',')
for chat_id in chat_ids:
    send_telegram_message(bot_token, chat_id.strip(), report)
```

---

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û—à–∏–±–∫–∞: "Missing secrets"
‚Üí –î–æ–±–∞–≤—å—Ç–µ –≤—Å–µ 4 —Å–µ–∫—Ä–µ—Ç–∞ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞

### –û—à–∏–±–∫–∞: "Invalid GA4_CREDENTIALS_JSON format"
‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å—Ç–∞–≤–∏–ª–∏ **–ø–æ–ª–Ω—ã–π JSON** –∏–∑ —Ñ–∞–π–ª–∞ –∫–ª—é—á–∞

### –û—à–∏–±–∫–∞: "403 Forbidden" –æ—Ç GA4 API
‚Üí –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Service Account –¥–æ–±–∞–≤–ª–µ–Ω –≤ GA4 Property Access Management —Å —Ä–æ–ª—å—é **Viewer**

### –û—à–∏–±–∫–∞: "Telegram API error"
‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –∏ chat_id. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞–ø–∏—Å–∞–ª–∏ –±–æ—Ç—É `/start`

### –û—Ç—á—ë—Ç –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ cron-job.org –∏–ª–∏ GitHub Actions. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ URL —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π.

### –í –æ—Ç—á—ë—Ç–µ 0 —Å–æ–±—ã—Ç–∏–π
‚Üí –ü–æ–¥–æ–∂–¥–∏—Ç–µ 24-48 —á–∞—Å–æ–≤ –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è GA4 Measurement ID –≤ `.env`. GA4 –Ω—É–∂–Ω–æ –≤—Ä–µ–º—è –¥–ª—è –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.

---

## üìå –ò—Ç–æ–≥–æ–≤—ã–π —á–µ–∫-–ª–∏—Å—Ç

- [ ] –°–æ–∑–¥–∞–Ω Service Account –≤ Google Cloud
- [ ] –°–∫–∞—á–∞–Ω JSON-–∫–ª—é—á
- [ ] Service Account –¥–æ–±–∞–≤–ª–µ–Ω –≤ GA4 Property Access Management
- [ ] –ü–æ–ª—É—á–µ–Ω GA4 Property ID
- [ ] –°–æ–∑–¥–∞–Ω Telegram-–±–æ—Ç —á–µ—Ä–µ–∑ @BotFather
- [ ] –ü–æ–ª—É—á–µ–Ω Chat ID —á–µ—Ä–µ–∑ @userinfobot
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã 4 —Å–µ–∫—Ä–µ—Ç–∞ –≤ –ø—Ä–æ–µ–∫—Ç poehali.dev
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω —Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ —Ñ—É–Ω–∫—Ü–∏–∏ (curl)
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω cron-job.org –∏–ª–∏ GitHub Actions –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
- [ ] –ü–æ–ª—É—á–µ–Ω –ø–µ—Ä–≤—ã–π –æ—Ç—á—ë—Ç –≤ Telegram ‚úÖ

---

**URL —Ñ—É–Ω–∫—Ü–∏–∏**: https://functions.poehali.dev/ef3050db-a8c0-48b2-a4b8-5a2eee875f23

**–ì–æ—Ç–æ–≤–æ! –û—Ç—á—ë—Ç—ã –±—É–¥—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.** üöÄ
